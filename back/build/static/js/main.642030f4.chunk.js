(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{32:function(e,t,n){},34:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(16),s=n.n(c),r=(n(32),n(15)),i=n.n(r),u=n(19),l=n(9),h=n(10),p=n(8),d=n(12),j=n(11),b=(n(34),n(27)),O=n(25),g=n(3),v=n(2),f=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:function(){return e.props.method()},children:this.props.text})})}}]),n}(o.Component),x=n(24),m=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:this.props.type,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)}})})}}]),n}(o.Component),y=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).SendValues=o.SendValues.bind(Object(p.a)(o)),o.SetValue=o.SetValue.bind(Object(p.a)(o)),o.ResetValue=o.ResetValue.bind(Object(p.a)(o)),o.state={username:"",password:""},o}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(){}},{key:"SetValue",value:function(e,t){t=t.trim(),this.setState(Object(x.a)({},e,t)),console.log("".concat(e," : ").concat(t))}},{key:"ResetValue",value:function(){this.setState({username:"",password:""})}},{key:"SendValues",value:function(e,t){if(console.log("Received :\n Username : ".concat(e," , Password : ").concat(t)),e||t){if(!e||!t)return e||console.log("Invalid request : wrong un"),t||console.log("Invalid request : wrong pw"),void this.ResetValue();try{console.log("Sending to the APP : \nUsername : ".concat(e," , Password : ").concat(t)),this.props.LogIn(e,t)}catch(n){console.log(n)}}else console.log("No un and no pw")}},{key:"render",value:function(){var e=this,t=this.state.username,n=this.state.password;return Object(v.jsxs)("div",{children:[Object(v.jsx)(m,{placeholder:"username",type:"text",value:t?this.state.username:"",onChange:function(t){return e.SetValue("username",t)}}),Object(v.jsx)(m,{placeholder:"password",type:"password",value:n?this.state.password:"",onChange:function(t){return e.SetValue("password",t)}}),Object(v.jsx)(f,{text:"Hi :) ",method:function(){return e.SendValues(t,n)}})]})}}]),n}(o.Component),w=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleLogOut=e.handleLogOut.bind(Object(p.a)(e)),e.handleLogIn=e.handleLogIn.bind(Object(p.a)(e)),e.state={login:!1,user:""},e}return Object(h.a)(n,[{key:"handleLogIn",value:function(){var e=Object(u.a)(i.a.mark((function e(t,n){var o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("SENDING TO THE API : ".concat(t," + ").concat(n)),e.prev=1,e.next=4,fetch("/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 4:return o=e.sent,e.next=7,o.json();case 7:(a=e.sent)&&a.success?(this.setState({user:a.username}),console.log("Login successful, welcome ".concat(this.state.user))):console.log("Error while logging in (not critical)"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("ERROR WHILE LOGGING IN");case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleLogOut",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/logout",{method:"post",headers:{Accept:"application/json","Content-Type":"application.json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&n.success?console.log("Logout successful"):console.log("Error while logging out (not critical)"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("ERROR WHILE LOGGING OUT");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.login;return Object(v.jsx)(O.a,{children:Object(v.jsxs)("div",{children:[!0===e?Object(v.jsx)(g.a,{push:!0,to:"/main-menu"}):Object(v.jsx)(g.a,{push:!0,to:"/"}),Object(v.jsxs)(g.b,{path:"/",exact:!0,children:[!0===e?Object(v.jsx)(g.a,{push:!0,to:"/main-menu"}):console.log("not logged in"),Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"LoginPage"}),Object(v.jsx)(y,{LogIn:this.handleLogIn})]})]}),Object(v.jsx)(g.b,{path:"/main-menu",exact:!0,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"You are logged in!"}),Object(v.jsx)("h3",{children:"Main menu"}),Object(v.jsx)(f,{text:"Log Out",method:this.handleLogOut})]})})]})})}}]),n}(o.Component),L=Object(b.a)(w),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),c(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(L,{})}),document.getElementById("root")),k()}},[[40,1,2]]]);
//# sourceMappingURL=main.642030f4.chunk.js.map